<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="content-type" content="text/html;charset=utf-8" />
	<title>Squinter Help</title>
	<meta name="AppleTitle" content="Squinter Help" />
	<meta name="AppleIcon" content="SquinterHelp/gfx/icon_16.png" />
	<meta name="robots" content="anchors" />
	<link href="css/main.css" rel="stylesheet" media="all" />
</head>
<body>
	<table width="100%" border ="0" align="center" cellspacing="0" cellpadding="0">
	<tr >
		<td width="20">&nbsp;</td>
		<td valign="top" align="left" width="250">
			<table width="100%" border="0" align="center" cellspacing="0" cellpadding="0">
			<tr>
				<td valign="top" align="center">
					<h1>Squinter</h1>
					<p>“A Squirrel Integrator”</p>
					<p><img src="gfx/icon.png" height="200" width="200" /></p>
					<p>&nbsp;</p>
					<h2>Contents</h2>
				</td>
			</tr>
			</table>
			<ul>
			<li><a href="sq_projects.html">Working With Projects and Products</a></li>
			<li><a href="sq_models.html">Working With Device Groups</a></li>
			<li><a href="sq_devices.html">Working With Devices</a></li>
			<li>Including Libraries In Your Code</li>
			<li><a href="sq_debugging.html">Debugging Code</a></li>
			<li><a href="sq_configure.html">Configuring Squinter</a></li></ul>
		</td>
		<td width="10">&nbsp;</td>
		<td valign="top" align="left">
			<h2>Incorporating Libraries Into Your Code</h2>

			<p>Squinter lets you incorporate multiple files into the source code that is deployed to a given Device Group.
			Electric Imp applications comprise two files: one for device code, the other for cloud-based agent code,
			but Squinter lets you embed into them links to other files, such as local libraries.</p>

			<p>For example, you might want to use the same library in multiple Device Groups &mdash; they all use the same sensor,
			say &mdash; even between Device Groups that belong to different Projects. Sharing a single library file allows you to
			update that file without having to edit every listing of device or agent code that uses it. You just recompile
			each Device Group’s source code to incorporate the changes you’ve made.</p>

			<p><img src="gfx/libs.png" width="620" /></p>

			<p>Squinter expects your primary source code files &mdash; a Device Group’s base device and agent code &mdash; to be
			named in the standard Electric Imp schema: <code>*.agent.nut</code> and <code>*.device.nut</code> for, respectively,
			your agent and device code. The two identifiers (represented here by the wildcard *) need not be identical.</p>

			<p>Local library files should be entered into your agent and device source code using the following syntax:<p>

			<p><code>#import "library_filepath\library_filename"</code><br>
			<code>#include "library_filepath\library_filename"</code></p>

			<p>This is to distinguish these libraries from Electric Imp online libraries, which use the <code>#require</code> directive.</p>

			<p>The name of the library file is arbitrary, but <code>*.class.nut</code> and <code>*.library.nut</code> are the
			recommended forms. You may include a full Unix filepath; if you only provide a filename, Squinter expects the file to
			reside in the same directory as the <code>*.squirrelproj</code> project file <i>(see <a href="sq_projects.html">
			‘Working with Projects and Products’</a>)</i>. You can specify files that need to be reached by moving up through
			your folder hierarchy by including <code>..</p> to mean ‘go up one level’. For example:

            <p><code>#import "../../../generic/bootmessage.nut"</code></p>

            <p>This means go up three folders then back down to the folder *generic* and thus to the file *bootmessage.nut*.

            <p><img src="gfx/files.png" width="625" /></p>

            <p>Internally, Squinter stores all file locations as paths relative to the project file, though you can choose how file
            paths are listed by changing the app’s Preferences. When Squinter compiles code, it re-checks the links it has against
            those included in the <code>#include</code> statement, updating its internal record as required. Squinter will warn you
            if you move a file while is running.</p>

            <p>Squinter lets you store both library files and blocks of Squirrel or other data in <code>*.nut</code> and <code>*.txt</code>
            files. At compilation, all of these sources are inserted into a master copy of the source code, and it is this ‘compiled’
            Squirrel which will be uploaded to the selected Device Group.</p>

			<p align="right">Next: <a href="sq_debugging.html">Debugging Code</a></p>
		</td>
		<td width="20">&nbsp;</td>
	</tr>
	</table>
</body>
</html>
